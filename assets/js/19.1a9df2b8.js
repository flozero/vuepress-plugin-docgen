(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{652:function(t,n,e){"use strict";e.r(n);var a=e(0),s=Object(a.a)({},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"depth-dive-into-the-plugin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#depth-dive-into-the-plugin","aria-hidden":"true"}},[t._v("#")]),t._v(" Depth dive into the plugin")]),t._v(" "),e("h2",{attrs:{id:"introduction"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#introduction","aria-hidden":"true"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),e("p",[t._v("Here we will speak about our choices and how we thought about the plugin")]),t._v(" "),e("p",[t._v("For having the road take the index.js")]),t._v(" "),e("h2",{attrs:{id:"extracting-options"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#extracting-options","aria-hidden":"true"}},[t._v("#")]),t._v(" Extracting options")]),t._v(" "),e("p",[t._v("As you can see we are calling "),e("strong",[t._v("extractOptions")]),t._v(" from options.js.")]),t._v(" "),e("p",[t._v("The goal of this function is to test and mask data you pass to the plugins.")]),t._v(" "),e("p",[t._v("As you can see we have an options variables that give us default value and simple types for checking.")]),t._v(" "),e("div",{staticClass:"warning custom-block"},[e("p",[t._v("If you add or making required key you should add "),e("strong",[t._v("required")]),t._v(" and the "),e("strong",[t._v("found")]),t._v(" key")])]),t._v(" "),e("p",[t._v("After that by reading the "),e("strong",[t._v("extractOptions")]),t._v(" you should understand easily what happen")]),t._v(" "),e("h2",{attrs:{id:"building-global-context"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#building-global-context","aria-hidden":"true"}},[t._v("#")]),t._v(" Building global context")]),t._v(" "),e("div",{staticClass:"warning custom-block"},[e("p",[t._v("the globalContext will be pass everywhere in the plugin")])]),t._v(" "),e("p",[t._v("Next take a look at "),e("strong",[t._v("buildGlobalContext")]),t._v(".")]),t._v(" "),e("p",[t._v("It will create you an object with those:")]),t._v(" "),e("div",{staticClass:"language-jsx extra-class"},[e("pre",{pre:!0,attrs:{class:"language-jsx"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  basePath"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" finalOpts"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("componentsDir"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  componentsPathContext"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ret"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  componentsPath"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" paths"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" finalOpts"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("ul",[e("li",[e("strong",[t._v("basePath")]),t._v(" will let me save the basePath of components")]),t._v(" "),e("li",[e("strong",[t._v("componentsPathContext")]),t._v(" is the Tree representation of your components structure in you component folder.\nThis tree has 2 levels:\n"),e("ul",[e("li",[t._v("root if there is no sub folders")]),t._v(" "),e("li",[t._v("subFolders. We will go 1 in depth if you have more all of those components will be passed in the depth 1 parent")])])]),t._v(" "),e("li",[e("strong",[t._v("componentsPath")]),t._v(". It is an array of all of you components path. It will help us to register them globally for you documentation with vuepress-plugin-register-component")]),t._v(" "),e("li",[e("strong",[t._v("options")]),t._v(" is just the merge options from what you pass at the begining and defalt value the application will pass")])]),t._v(" "),e("p",[t._v("At this time we should add the exlude folder/files logic")]),t._v(" "),e("h2",{attrs:{id:"register-the-components-globally"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#register-the-components-globally","aria-hidden":"true"}},[t._v("#")]),t._v(" Register the components globally")]),t._v(" "),e("p",[t._v("Now you should be in the export default from the index.js.")]),t._v(" "),e("p",[e("strong",[t._v("registerPlugins(finalOpts)")])]),t._v(" "),e("p",[t._v("this will register globally your components with the core @vuepress/register-components. It will use the componentsPath")]),t._v(" "),e("p",[t._v("Automatically registering components on the client side.")]),t._v(" "),e("h2",{attrs:{id:"enhanceappfiles"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#enhanceappfiles","aria-hidden":"true"}},[t._v("#")]),t._v(" enhanceAppFiles")]),t._v(" "),e("p",[e("em",[t._v("enhanceAppFiles will be loaded and applied automatically when the application is initialized on the client side")]),t._v(" "),e("a",{attrs:{href:"https://v1.vuepress.vuejs.org/plugin/option-api.html#enhanceappfiles",target:"_blank",rel:"noopener noreferrer"}},[t._v("HERE MORE INFOS"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("Here the goal of the enhanceAppFiles is to add when the client is ready the sidebar.")]),t._v(" "),e("p",[t._v("It will loop with you "),e("strong",[t._v("componentsPathContext")]),t._v(" and will build the root and the sub folders into an object that he will pass later when the front is ready into siteData.themeConfig['sidebar']")]),t._v(" "),e("h2",{attrs:{id:"additionalpages"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#additionalpages","aria-hidden":"true"}},[t._v("#")]),t._v(" additionalPages")]),t._v(" "),e("p",[t._v("The most important Here actually. It will use the basePath and loop from your componentsPathContext (the tree :winkle: ).")]),t._v(" "),e("p",[t._v("It will call "),e("strong",[t._v("buildComponentPage")])]),t._v(" "),e("p",[t._v("First it will use the parse from "),e("a",{attrs:{href:"https://github.com/vue-styleguidist/vue-styleguidist#readme",target:"_blank",rel:"noopener noreferrer"}},[t._v("our fork of vue-docgen-api"),e("OutboundLink")],1),t._v(" and extract componentInfo in "),e("strong",[t._v("componentInfo")])]),t._v(" "),e("p",[t._v("from here we have splitted the rendering of the docs a lot !")]),t._v(" "),e("p",[t._v("You can actually personnalize everything.")]),t._v(" "),e("p",[t._v("Every parameters in components should be functions they will receive data for his part and return a string. You can check code for example")]),t._v(" "),e("div",{staticClass:"language-jsx extra-class"},[e("pre",{pre:!0,attrs:{class:"language-jsx"}},[e("code",[t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// you can use here 'docgen' instead of the require")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../../src/index"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    componentsDir"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../../components"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// debug: true,")]),t._v("\n    sideBarName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Components'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this the default value")]),t._v("\n    globalName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Globals'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this is for naming the root path of your components")]),t._v("\n    regex"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/**/*.vue"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    templates"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      component"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n        index"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Function"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        introduction"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Function"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        tags"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Function"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        props"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Function"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        slots"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Function"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        events"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Function"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        methods"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Function"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        preview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Function"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),e("p",[t._v("You should consider using something "),e("a",{attrs:{href:"https://vuepress-live.surge.sh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress-plugin-live"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[t._v("Something really cool that will give you the power of real time editing you component ! ðŸ˜„")])])},[],!1,null,null,null);n.default=s.exports}}]);